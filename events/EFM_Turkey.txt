###########################
# EFM_Turkey Events
###########################

add_namespace = EFM_Turkey

# President dies
country_event = {
	id = EFM_Turkey.1
	title = turkey.1.t
	desc = turkey.1.d
	picture = GFX_report_event_generic_rally
	
	fire_only_once = yes
	
	trigger = {
		original_tag = TUR
		has_country_leader = {
			name = "穆斯塔法·凯末尔·阿塔图尔克"
		}
		date > 1938.11.1
	}	

	mean_time_to_happen = {
		days = 30
		modifier = {
			factor = 0.5
			date > 1938.12.1
		}
		modifier = {
			factor = 0.2
			date > 1939.1.1
		}
	}

	option = {
		name = turkey.1.a
		kill_country_leader = yes
		every_country = {
	 		limit = {
				has_unit_leader = 59
			}
	 		remove_unit_leader = 59
	 	}
		hidden_effect = {
			create_country_leader = {
				name = "伊斯梅特·伊诺努"
				desc = "POLITICS_ISMET_INÖNÜ_DESC"
				picture = "Portrait_Turkey_Ismet_Inonu.dds"
				expire = "1965.1.1"
				ideology = despotism
				traits = {
					#
				}
			}
		}
	}
}
# The Kemalism
country_event = {
	id = EFM_Turkey.2
	title = EFM_Turkey.2.t
	desc = EFM_Turkey.2.d
	picture = GFX_report_event_generic_rally
	
	trigger = {
		original_tag = TUR
		has_idea = TUR_The_reforms_of_ataturk
		NOT = {
			has_country_leader = {
				name = "穆斯塔法·凯末尔·阿塔图尔克"
			}
			has_government = fascism
		}
	}

	option = {
		name = EFM_Turkey.2.a
		swap_ideas = { remove_idea = TUR_The_reforms_of_ataturk add_idea = TUR_Kemalism }
	}
}
# The army does not support our government - Civil war broke out
country_event = {
	id = EFM_Turkey.3
	title = EFM_Turkey.3.t
	desc = EFM_Turkey.3.d
	picture = GFX_report_event_generic_battle
	fire_only_once = yes
	
	trigger = {
		original_tag = TUR
		has_idea = TUR_Military_influence
		OR = {
			has_government = communism
			has_government = fascism
			AND =  {
				has_completed_focus = TUR_Her_name_is
				has_stability < 0.5
			}
		}
	}

	mean_time_to_happen = {
		days = 5
	}
	
	option = {
		name = EFM_Turkey.3.a
		if = {
			limit = {
				has_completed_focus = TUR_Her_name_is
			}
			create_country_leader = {
				name = "阿卜杜勒梅吉德二世"
				desc = ""
				picture = "gfx/leaders/TUR/Portrait_Abdulmecid_II.dds"
				expire = "1965.1.1"
				ideology = despotism
				traits = {}
			}
			remove_ideas = TUR_Abdulmecid_II
		}
		
		if = {
			limit = {
				has_government = neutrality
			}
			start_civil_war = {
				ruling_party = neutrality
				ideology = democratic
				size = 0.6
			}
			hidden_effect = {
				random_other_country = {
						limit = {
								original_tag = TUR
								has_government = democratic
							}
						set_stability = 0.7
					}
			set_equipment_fraction = 0.75
			set_stability = 0.4
			}
		}
		if = {
			limit = {
				has_government = democratic
			}
			start_civil_war = {
				ruling_party = democratic
				ideology = neutrality
				size = 0.6
			}
			hidden_effect = {
				random_other_country = {
						limit = {
								original_tag = TUR
								has_government = neutrality
							}
						set_stability = 0.7
					}
			set_equipment_fraction = 0.75
			set_stability = 0.4
			}
		}
		if = {
			limit = {
				has_government = fascism
			}
			start_civil_war = {
				ruling_party = fascism
				ideology = neutrality
				size = 0.6
			}
			hidden_effect = {
				random_other_country = {
						limit = {
								original_tag = TUR
								has_government = neutrality
							}
						set_stability = 0.7
					}
			set_equipment_fraction = 0.75
			set_stability = 0.4
			}
		}
		if = {
			limit = {
				has_government = communism
			}
			start_civil_war = {
				ruling_party = communism
				ideology = neutrality
				size = 0.6
			}
			hidden_effect = {
				random_other_country = {
						limit = {
								original_tag = TUR
								has_government = neutrality
							}
						set_stability = 0.7
					}
			set_equipment_fraction = 0.75
			set_stability = 0.4
			}
		}
		if = {
			limit = {
				has_idea = TUR_Military_influence
			}
			remove_ideas = TUR_Military_influence
		}
	}
}
# Infiltrate the border
country_event = {
	id = EFM_Turkey.4
	title = EFM_Turkey.4.t
	desc = EFM_Turkey.4.d
	picture = GFX_report_event_generic_battle
	is_triggered_only = yes
	
	option = {
		name = EFM_Turkey.4.a
		ai_chance = { factor = 90 }
		FROM = {
				country_event = { id = EFM_Turkey.5 hours = 12 }
				add_manpower = -30000
				effect_tooltip = {
						unlock_decision_category_tooltip = TUR_Infiltrate_the_border
					}
				set_country_flag = TUR_Infiltrate_the_border
			}
		add_ai_strategy = {
					type = befriend
					id = "TUR"
					value = 100
				}
		add_ai_strategy = {
				type = support
				id = "TUR"
				value = 100
			}
		add_ai_strategy = {
				type = send_volunteers_desire
				id = "TUR"
				value = 100
			}
	}
	option = {
		name = EFM_Turkey.4.b
		ai_chance = { factor = 10 }
		FROM = {
				country_event = { id = EFM_independent.51 hours = 12 }
			}
	}
}
country_event = {
	id = EFM_Turkey.5
	title = EFM_Turkey.5.t
	desc = EFM_Turkey.5.d
	picture = GFX_report_event_generic_ruins
	is_triggered_only = yes
	
	option = {
		name = EFM_Turkey.5.a
		FROM = {
				country_event = { id = EFM_independent.50 hours = 12 }
				unlock_decision_category_tooltip = TUR_Infiltrate_the_border
			}
	}
}
# Interfering with the Turkish Civil War (SOV)
country_event = {
	id = EFM_Turkey.6
	title = EFM_Turkey.6.t
	desc = EFM_Turkey.6.d
	picture = GFX_report_event_soviet_invasion_map
	is_triggered_only = yes
	
	option = {
		name = EFM_Turkey.6.a
		ai_chance = { factor = 90 }
		add_manpower = -50000
		FROM = {
				country_event = { id = EFM_Turkey.7 hours = 12 }
			}
		every_other_country = {
				limit = {
							OR = {
									has_government = fascism
									has_government = democratic
							}
					}
				add_opinion_modifier = {
							target = SOV
							modifier = Nations_friendly
						}
			}
	}
	option = {
		name = EFM_Turkey.6.b
		ai_chance = { factor = 10 }
		FROM = {
				country_event = { id = EFM_independent.51 hours = 12 }
			}
	}
}
country_event = {
	id = EFM_Turkey.7
	title = EFM_Turkey.7.t
	desc = EFM_Turkey.7.d
	picture = GFX_report_event_soviet_soldiers
	is_triggered_only = yes
	
	option = {
		name = EFM_Turkey.7.a
		custom_effect_tooltip = EFM_Turkey.7.tt
		set_country_flag = TUR_Request_for_direct_interference
		hidden_effect = {
			division_template = {
							name = "Soviet volunteer army"
							is_locked = yes
							regiments = {
									infantry = {
											x = 0
											y = 0
										}
									infantry = {
											x = 0
											y = 1
										}
									infantry = {
											x = 0
											y = 2
										}
									infantry = {
											x = 1
											y = 0
										}
									infantry = {
											x = 1
											y = 1
										}
									infantry = {
											x = 1
											y = 2
										}
									infantry = {
											x = 2
											y = 0
										}
									artillery_brigade = {
											x = 2
											y = 1
										}
									artillery_brigade = {
											x = 2
											y = 2
										}
								}
						}
			random_owned_controlled_state = {
					create_unit = {
							division = "name = \"Soviet volunteer army\" division_template = \"Soviet volunteer army\" start_experience_factor = 1.0 start_equipment_factor = 0.75"
							owner = TUR
						}
					create_unit = {
							division = "name = \"Soviet volunteer army\" division_template = \"Soviet volunteer army\" start_experience_factor = 1.0 start_equipment_factor = 0.75"
							owner = TUR
						}
					create_unit = {
							division = "name = \"Soviet volunteer army\" division_template = \"Soviet volunteer army\" start_experience_factor = 1.0 start_equipment_factor = 0.75"
							owner = TUR
						}
					}
			}
	}
}
# The end of the Turkish Revolutionary War
country_event = {
	id = EFM_Turkey.8
	title = EFM_Turkey.8.t
	desc = EFM_Turkey.8.d
	picture = GFX_report_event_soviet_purge_speech
	
	fire_only_once = yes
	
	trigger = {
		original_tag = TUR
		has_completed_focus = TUR_Launch_revolution
		has_civil_war = no
	}	

	option = {
		name = EFM_Turkey.8.a
		army_experience = 50
		add_war_support = -0.2
		add_stability = -0.2
		if = {
			limit = {
				has_country_flag = TUR_Request_for_direct_interference
			}
			effect_tooltip = {
				SOV = { puppet = ROOT }
			}
			delete_unit_template_and_units = {
				division_template = "Soviet volunteer army"
			}
		}
		delete_unit_template_and_units = {
			division_template = "Revolutionary army"
		}
		SOV = {
				country_event = { id = EFM_Turkey.9 hours = 12 }
			}
	}
}
country_event = {
	id = EFM_Turkey.9
	title = EFM_Turkey.9.t
	desc = EFM_Turkey.9.d
	picture = GFX_report_event_soviet_in_riga
	is_triggered_only = yes
	
	option = {
		name = EFM_Turkey.9.a
		add_manpower = 36354
		army_experience = 25
		if = {
			limit = {
				has_country_flag = TUR_Request_for_direct_interference
			}
			puppet = ROOT
		}
	}
}

# Turkish-backed communist revolution
country_event = {
	id = EFM_Turkey.10
	title = EFM_Turkey.10.t
	desc = EFM_Turkey.10.d
	picture = GFX_report_event_generic_battle
	is_triggered_only = yes
	
	option = {
		name = EFM_Turkey.10.a
		start_civil_war = { ideology = communism size = 0.25 }
		every_other_country = {
				limit = {
						original_tag = ROOT
						has_government = communism
					}
				set_country_flag = TUR_Output_revolution_for_middle_eastern
			}
	}
}
# Turkey puppet a Communist country by support revolution from us
country_event = {
	id = EFM_Turkey.11
	title = EFM_Turkey.11.t
	desc = EFM_Turkey.11.d
	picture = GFX_report_event_generic_read_write
	
	trigger = {
		has_country_flag = TUR_Output_revolution_for_middle_eastern
		has_government = communism
		has_civil_war = no
	}	

	option = {
		name = EFM_Turkey.11.a
		every_other_country = {
				limit = {
						original_tag = TUR
					}
				country_event = { id = EFM_Turkey.12 hours = 12 }
			}
		effect_tooltip = {
			TUR = { puppet = ROOT }
		}
		clr_country_flag = TUR_Output_revolution_for_middle_eastern
	}
}
country_event = {
	id = EFM_Turkey.12
	title = EFM_Turkey.12.t
	desc = EFM_Turkey.12.d
	picture = GFX_report_event_generic_read_write
	is_triggered_only = yes
	
	option = {
		name = EFM_Turkey.12.a
		puppet = FROM
	}
}

# Turkey is free
country_event = {
	id = EFM_Turkey.13
	title = EFM_Turkey.13.t
	desc = EFM_Turkey.13.d
	picture = GFX_report_event_generic_strike
	is_triggered_only = yes
	
	option = {
		name = EFM_Turkey.13.a
		set_autonomy = {
				target = FROM
				autonomy_state = autonomy_free
			}
	}
}

# Require a power to become vassal for us
country_event = {
	id = EFM_Turkey.14
	title = EFM_Turkey.14.t
	desc = EFM_Turkey.14.d
	picture = GFX_report_event_generic_read_write
	is_triggered_only = yes
	
	option = {
		name = EFM_Turkey.14.a
		ai_chance = {
			factor = 90
			modifier = {
				factor = 0
				strength_ratio = {
					tag = TUR
					ratio > 0.9
				}
			}
		}
		FROM = { 
			country_event = { id = EFM_Turkey.15 hours = 12 }
			effect_tooltip = { puppet = ROOT }
		}
	}

	option = {
		name = EFM_Turkey.14.b
		ai_chance = { factor = 10 }
		FROM = { 
			country_event = { id = EFM_Turkey.16 hours = 12 }
			effect_tooltip = {
				declare_war_on = {
					target = ROOT
					type = puppet_wargoal_focus
				}
			}
		}
	}
}
country_event = {
	id = EFM_Turkey.15
	title = EFM_Turkey.15.t
	desc = EFM_Turkey.15.d
	picture = GFX_report_event_generic_panzer_attack
	is_triggered_only = yes
	
	option = {
		name = EFM_Turkey.15.a
		puppet = FROM
	}
}
country_event = {
	id = EFM_Turkey.16
	title = EFM_Turkey.16.t
	desc = EFM_Turkey.16.d
	picture = GFX_report_event_hitler_handshake
	is_triggered_only = yes
	
	option = {
		name = EFM_Turkey.16.a
		declare_war_on = {
				target = FROM
				type = puppet_wargoal_focus
			}
	}
}

# Suppress communism
country_event = {
	id = EFM_Turkey.17
	title = EFM_Turkey.17.t
	desc = EFM_Turkey.17.d
	picture = GFX_report_event_generic_rally2
	
	trigger = {
		original_tag = TUR
		NOT = {
			has_completed_focus = TUR_Launch_revolution
			has_government = communism
		}
		communism > 0.2
	}

	option = {
		name = EFM_Turkey.17.a
		add_popularity = {
			ideology = communism
			popularity = -0.1
		}
	}
}
# Suppress fascism
country_event = {
	id = EFM_Turkey.18
	title = EFM_Turkey.18.t
	desc = EFM_Turkey.18.d
	picture = GFX_report_event_generic_rally2
	
	trigger = {
		original_tag = TUR
		NOT = {
			has_completed_focus = TUR_Establish_personal_worship
			has_government = fascism
		}
		fascism > 0.2
	}

	option = {
		name = EFM_Turkey.18.a
		add_popularity = {
			ideology = fascism
			popularity = -0.1
		}
	}
}

# Demand Middle Eastern colony
country_event = {
	id = EFM_Turkey.19
	title = EFM_Turkey.19.t
	desc = EFM_Turkey.19.d
	picture = GFX_report_event_generic_conference
	is_triggered_only = yes

	option = {
		name = EFM_Turkey.20.a
		ai_chance = {
			factor = 90
			modifier = {
				factor = 10
				has_opinion = { target = FROM value < 50 }
			}
		}
		every_owned_state = {
			limit = {
				is_core_of = SYR
			}
			FROM = {
				transfer_state = PREV
			}
		}
		if = {
			limit = {
				SYR = {
					exists = yes
					is_subject_of = ROOT
				}
			}
			set_autonomy = { target = SYR autonomy_state = autonomy_free }
			FROM = {
				puppet = SYR
			}
		}
		add_political_power = 25
		FROM = {
			country_event = { id = EFM_independent.50 }
		}
	}

	option = {
		name = EFM_Turkey.20.b
		ai_chance = {
			factor = 10
			modifier = {
				factor = 90
				has_opinion = { target = FROM value < 50 }
			}
		}
		FROM = {
			country_event = { id = EFM_independent.51 }
		}
	}
}
country_event = {
	id = EFM_Turkey.20
	title = EFM_Turkey.20.t
	desc = EFM_Turkey.20.d
	picture = GFX_report_event_generic_conference
	is_triggered_only = yes

	option = {
		name = EFM_Turkey.20.a
		ai_chance = {
			factor = 90
			modifier = {
				factor = 10
				has_opinion = { target = FROM value < 50 }
			}
		}
		every_owned_state = {
			limit = {
				is_core_of = LEB
			}
			FROM = {
				transfer_state = PREV
			}
		}
		if = {
			limit = {
				LEB = {
					exists = yes
					is_subject_of = ROOT
				}
			}
			set_autonomy = { target = LEB autonomy_state = autonomy_free }
			FROM = {
				puppet = LEB
			}
		}
		add_political_power = 25
		FROM = {
			country_event = { id = EFM_independent.50 }
		}
	}

	option = {
		name = EFM_Turkey.20.b
		ai_chance = {
			factor = 10
			modifier = {
				factor = 90
				has_opinion = { target = FROM value < 50 }
			}
		}
		FROM = {
			country_event = { id = EFM_independent.51 }
		}
	}
}
country_event = {
	id = EFM_Turkey.21
	title = EFM_Turkey.21.t
	desc = EFM_Turkey.21.d
	picture = GFX_report_event_generic_conference
	is_triggered_only = yes

	option = {
		name = EFM_Turkey.21.a
		ai_chance = {
			factor = 90
			modifier = {
				factor = 10
				has_opinion = { target = FROM value < 50 }
			}
		}
		every_owned_state = {
			limit = {
				is_core_of = PAL
			}
			FROM = {
				transfer_state = PREV
			}
		}
		if = {
			limit = {
				PAL = {
					exists = yes
					is_subject_of = ROOT
				}
			}
			set_autonomy = { target = PAL autonomy_state = autonomy_free }
			FROM = {
				puppet = PAL
			}
		}
		add_political_power = 25
		FROM = {
			country_event = { id = EFM_independent.50 }
		}
	}

	option = {
		name = EFM_Turkey.21.b
		ai_chance = {
			factor = 10
			modifier = {
				factor = 90
				has_opinion = { target = FROM value < 50 }
			}
		}
		FROM = {
			country_event = { id = EFM_independent.51 }
		}
	}
}
country_event = {
	id = EFM_Turkey.22
	title = EFM_Turkey.22.t
	desc = EFM_Turkey.22.d
	picture = GFX_report_event_generic_conference
	is_triggered_only = yes

	option = {
		name = EFM_Turkey.22.a
		ai_chance = {
			factor = 90
			modifier = {
				factor = 10
				has_opinion = { target = FROM value < 50 }
			}
		}
		every_owned_state = {
			limit = {
				is_core_of = JOR
			}
			FROM = {
				transfer_state = PREV
			}
		}
		if = {
			limit = {
				JOR = {
					exists = yes
					is_subject_of = ROOT
				}
			}
			set_autonomy = { target = JOR autonomy_state = autonomy_free }
			FROM = {
				puppet = JOR
			}
		}
		add_political_power = 25
		FROM = {
			country_event = { id = EFM_independent.50 }
		}
	}

	option = {
		name = EFM_Turkey.22.b
		ai_chance = {
			factor = 10
			modifier = {
				factor = 90
				has_opinion = { target = FROM value < 50 }
			}
		}
		FROM = {
			country_event = { id = EFM_independent.51 }
		}
	}
}

# Restore Ottoman Empire
country_event = {
	id = EFM_Turkey.50
	title = EFM_Turkey.50.t
	desc = EFM_Turkey.50.d
	picture = GFX_report_event_generic_read_write
	is_triggered_only = yes

	option = {
		name = EFM_Turkey.50.a
		hidden_effect = {
			set_cosmetic_tag = OTT_UNIFIED
			news_event = { id = wtt_news.61 hours = 6 }
			set_global_flag = form_ottoman_empire_flag
		}
		add_ideas = TUR_Abdulmecid_II
		set_capital = 341
		if = {
			limit = {
				has_idea = TUR_Military_influence
			}
			add_stability = -0.4
		}
	}
}

