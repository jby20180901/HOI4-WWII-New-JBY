add_namespace = Shandong

###SLJ annex events###
country_event = {
	id = Shandong.1
	title = Shandong.1.t
	desc = Shandong.1.d
	picture = GFX_report_event_japanese_chinese_surrender

	is_triggered_only = yes
	
	option = {
		ai_chance = { factor = 60 }
		name = Shandong.1.a
		FROM = {
            		country_event = Shandong.2
        	}
			add_stability = -0.05
	}
	option = {
		ai_chance = { factor = 30 }
		name = Shandong.1.b
		FROM = {
            		country_event = Shandong.3
        	}
		custom_effect_tooltip = GAME_OVER_TT
	}
	option = {
		ai_chance = { factor = 10 }
		name = Shandong.1.c
		FROM = {
            		country_event = Shandong.4
        	}
	}
}

#XBJ puppet agree
country_event = {
	id = Shandong.2
	title = Shandong.2.t
	desc = Shandong.2.d
	picture = GFX_report_event_generic_read_write

	is_triggered_only = yes
	
	option = {
		name = Shandong.2.a
			puppet = FROM
		}
}

#XBJ annex agree
country_event = {
	id = Shandong.3
	title = Shandong.3.t
	desc = Shandong.3.d
	picture = GFX_report_event_generic_read_write

	is_triggered_only = yes
	
	option = {
		name = Shandong.3.a
		annex_country = { target = FROM transfer_troops = yes }
		}
}

#XBJ refuse
country_event = {
	id = Shandong.4
	title = Shandong.4.t
	desc = Shandong.4.d
	picture = GFX_report_event_chinese_soldiers_fighting

	is_triggered_only = yes
	
	option = {
		name = Shandong.4.a
		ai_chance = { factor = 90 }
			declare_war_on = { target = XBJ type = annex_everything }
			hidden_effect = {
				CHI = {
					country_event = { id = Shandong.5 days = 0 }
					}
				}
		}
	option = {
		name = Shandong.4.b
		ai_chance = { factor = 10 }
		add_opinion_modifier = {
				target = XBJ
				modifier = hostile_status
			}
		XBJ = {
				add_opinion_modifier = {
						target = SLJ
						modifier = hostile_status
					}
			}
		}
}

#CHI intervene
country_event = {
	id = Shandong.5
	title = Shandong.5.t
	desc = Shandong.5.d
	picture = GFX_report_event_chinese_soldiers_fighting

	is_triggered_only = yes
	
	option = {
		name = Shandong.5.a
		ai_chance = { factor = 90 }
			SLJ = {
				country_event = { id = Shandong.6 days = 1 }
			}
		}
	option = {
		name = Shandong.5.b
		ai_chance = { factor = 10 }
			hidden_effect = {
				JAP = {
					country_event = { id = Shandong.10 days = 1 }
					}
				}
		}
}
country_event = {
	id = Shandong.6
	title = Shandong.6.t
	desc = Shandong.6.d
	picture = GFX_report_event_chinese_soldiers_fighting

	is_triggered_only = yes
	
	option = {
		name = Shandong.6.a
		ai_chance = { factor = 60 }
			white_peace = XBJ
			CHI = {
				country_event = { id = Shandong.7 days = 1 }
				puppet = SLJ
			}
		}
	option = {
		name = Shandong.6.b
		ai_chance = { factor = 40 }
			CHI = {
				country_event = { id = Shandong.8 days = 1 }
				}
		}
}
#Intervene success
country_event = {
	id = Shandong.7
	title = Shandong.7.t
	desc = Shandong.7.d
	picture = GFX_report_event_generic_read_write

	is_triggered_only = yes
	
	option = {
		name = Shandong.7.a
			add_political_power = 50
		}
}
#Intervene fail
country_event = {
	id = Shandong.8
	title = Shandong.8.t
	desc = Shandong.8.d
	picture = GFX_report_event_chinese_soldiers_fighting

	is_triggered_only = yes
	
	option = {
		name = Shandong.8.a
		ai_chance = { factor = 70 }
			add_to_war = { targeted_alliance = XBJ enemy = SLJ }
			SLJ = {
				country_event = { id = Shandong.9 days = 0 }
				}
		}
	option = {
		name = Shandong.8.b
		ai_chance = { factor = 30 }
			hidden_effect = {
				JAP = {
					country_event = { id = Shandong.10 days = 0 }
					}
				}
		}
}
country_event = {
	id = Shandong.9
	title = Shandong.9.t
	desc = Shandong.9.d
	picture = GFX_report_event_chinese_soldiers_fighting

	is_triggered_only = yes
	
	option = {
		name = Shandong.9.a
		}
}
#JAP intervene
country_event = {
	id = Shandong.10
	title = Shandong.10.t
	desc = Shandong.10.d
	picture = GFX_report_event_chinese_soldiers_fighting

	is_triggered_only = yes
	
	option = {
		name = Shandong.10.a
		ai_chance = { factor = 70 }
			transfer_state = 608
			MEN = {
				transfer_state = 611
			}
			add_named_threat = {
					threat = 1
					name = Shandong.10.t
				}
		}
	option = {
		name = Shandong.10.b
		ai_chance = { factor = 25 }
			transfer_state = 608
			MEN = {
				transfer_state = 611
			}
			add_to_war = { targeted_alliance = XBJ enemy = SLJ }
			add_named_threat = {
					threat = 5
					name = Shandong.10.t
				}
		}
	option = {
		name = Shandong.10.b
		ai_chance = { factor = 5 }
		}
}

# Shandong strategic (China)
country_event = {
	id = Shandong.20
	title = Shandong.20.t
	desc = Shandong.20.d
	picture = GFX_report_event_nationalist_china_machinegun_firing

	fire_only_once = yes
	
	trigger = {
		tag = CHI
		is_subject = no
		has_war_with = JAP
		SLJ = {
			exists = yes
			is_subject_of = CHI
		}
	}
	
	mean_time_to_happen = { days = 30 }
	
	option = {
		ai_chance = { factor = 99 }
		name = Shandong.20.a
		add_political_power = 75
		SLJ = { country_event = { id = Shandong.21 days = 1 } }
	}
	option = {
		ai_chance = { factor = 1 }
		name = Shandong.20.b
	}
}
country_event = {
	id = Shandong.21
	title = Shandong.21.t
	desc = Shandong.21.d
	picture = GFX_report_event_nationalist_china_machinegun_firing

	is_triggered_only = yes
	
	option = {
		name = Shandong.21.a
		set_equipment_fraction = 0.8
		set_country_flag = SHD_Shandong_believes_that_the_central_government_has_conspiracy
	}
}

# Shandong strategic (Shandong)
country_event = {
	id = Shandong.22
	title = Shandong.22.t
	desc = Shandong.22.d
	picture = GFX_report_event_chinese_officers

	is_triggered_only = yes
	
#	trigger = {
#		tag = SLJ
#		is_subject_of = CHI
#		any_other_country = {
#				num_of_factories > 50
#				has_war_with = CHI
#				has_war_with = SLJ
#			}
#		any_other_country = {
#				has_war_with = CHI
#				has_war_with = SLJ
#				controls_state = 614
#		}
#		has_country_flag = SHD_Shandong_believes_that_the_central_government_has_conspiracy
#		NOT = { has_completed_focus = SHD_Full_support_national_government }
#	}
	
	mean_time_to_happen = { days = 50 }
	
	option = {
		ai_chance = { factor = 99 }
		name = Shandong.22.a
		hidden_effect = {
				random_list = {
						90 = {
								CHI = { country_event = { id = Shandong.23 days = 3 } }
							}
						10 = {
								CHI = { country_event = { id = Shandong.25 days = 3 } }
							}
					}
			}
		custom_effect_tooltip = SHD_Strategic_shift_tt
		set_global_flag = SHD_Evacuated_from_shandong
	}
	option = {
		ai_chance = { factor = 1 }
		name = Shandong.22.b
	}
}

# Strategic shift fail
country_event = {
	id = Shandong.23
	title = Shandong.23.t
	desc = Shandong.23.d
	picture = GFX_report_event_japanese_chinese_surrender

	is_triggered_only = yes
	
	option = {
		ai_chance = { factor = 99 }
		name = Shandong.23.a
		FROM = { country_event = { id = Shandong.24 days = 1 } }
		set_global_flag = CHI_Hold_military_meeting
		every_other_country = {
			limit = { is_in_faction_with = CHI }
			country_event = { id = Shandong.27 days = 1 }
		}
	}
	option = {
		ai_chance = { factor = 1 }
		name = Shandong.23.b
	}
}
country_event = {
	id = Shandong.24
	title = Shandong.24.t
	desc = Shandong.24.d
	picture = GFX_report_event_japanese_chinese_surrender

	is_triggered_only = yes
	
	option = {
		name = Shandong.24.a
			retire_country_leader = yes
			remove_unit_leader = 2901
			every_state = {
					if = {
						limit = {
								is_core_of = SLJ
						}
						remove_core_of = SLJ
					}
				}
			FROM = { annex_country = { target = ROOT transfer_troops = yes } }
	}
}

# Strategic shift success
country_event = {
	id = Shandong.25
	title = Shandong.25.t
	desc = Shandong.25.d
	picture = GFX_report_event_chinese_soldiers_running

	is_triggered_only = yes
	
	option = {
		name = Shandong.25.a
        SLJ = {
				country_event = { id = Shandong.26 days = 3 }
            }
	}
}
country_event = {
	id = Shandong.26
	title = Shandong.26.t
	desc = Shandong.26.d
	picture = GFX_report_event_chinese_soldiers_running

	is_triggered_only = yes
	
	option = {
		name = Shandong.26.a
        SLJ = {
                transfer_state = 607
				add_state_core = 607
            }
	}
}

# Nanjing Hold military meeting
country_event = {
	id = Shandong.27
	title = Shandong.27.t
	desc = Shandong.27.d
	picture = GFX_report_event_generic_conference

	is_triggered_only = yes
	
	option = {
		name = Shandong.27.a
	}
}
#####################