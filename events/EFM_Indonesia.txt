add_namespace = EFM_Indonesia

# INS request for protection
country_event = {
	id = EFM_Indonesia.1
	title = EFM_Indonesia.1.t
	desc = EFM_Indonesia.1.d
	
	picture = GFX_report_event_generic_conference
	
	is_triggered_only = yes

	option = {
			ai_chance = { factor = 90 }
			name = EFM_Indonesia.1.a
			if = {
				limit = {
					FROM = { is_subject = yes }
				}
				puppet = FROM
			}
			if = {
				limit = {
					FROM = { is_subject = no }
				}
				give_guarantee = FROM
			}
			FROM = { country_event = { id = EFM_independent.50 days = 1 } }
			if = {
				limit = {
					is_subject_of = HOL
				}
				HOL = { country_event = { id = EFM_Indonesia.2 days = 1 } }
			}
		}
	option = {
			ai_chance = { factor = 10 }
			name = EFM_Indonesia.1.b
			FROM = { country_event = { id = EFM_independent.51 days = 1 } }
		}
			
}
# INS request for protection (HOL)
country_event = {
	id = EFM_Indonesia.2
	title = EFM_Indonesia.2.t
	desc = EFM_Indonesia.2.d
	
	picture = GFX_report_event_japanese_soldiers_01
	
	is_triggered_only = yes

	option = {
			name = EFM_Indonesia.1.a
		}
			
}

# Seeking support from neighboring countries
country_event = {
	id = EFM_Indonesia.3
	title = EFM_Indonesia.3.t
	desc = EFM_Indonesia.3.d
	
	picture = GFX_report_event_generic_sign_treaty2
	
	is_triggered_only = yes

	option = {
			trigger = {
				JAP = {
					has_government = fascism
					NOT = { has_war_with = ROOT }
				}
			}
			ai_chance = { factor = 50 }
			name = EFM_Indonesia.3.a
			JAP = { country_event = { id = EFM_Indonesia.4 days = 1 } }
		}
	option = {
			trigger = {
				AST = {
					has_government = fascism
					NOT = { has_war_with = ROOT }
				}
			}
			ai_chance = { factor = 50 }
			name = EFM_Indonesia.3.b
			AST = { country_event = { id = EFM_Indonesia.4 days = 1 } }
		}
			
}
country_event = {
	id = EFM_Indonesia.4
	title = EFM_Indonesia.4.t
	desc = EFM_Indonesia.4.d
	
	picture = GFX_report_event_generic_conference
	
	is_triggered_only = yes

	option = {
			ai_chance = { factor = 90 }
			name = EFM_Indonesia.4.a
			send_equipment = { target = FROM type = infantry_equipment amount = 500 }
			FROM = { country_event = { id = EFM_independent.50 days = 1 } }
			add_ai_strategy = {
					type = befriend
					id = "INS"
					value = 200
				}
			add_ai_strategy = {
					type = support
					id = "INS"
					value = 200
				}
		}
	option = {
			ai_chance = { factor = 10 }
			name = EFM_Indonesia.4.b
			FROM = { country_event = { id = EFM_independent.51 days = 1 } }
		}
			
}

# Form a satellite state
country_event = {
	id = EFM_Indonesia.5
	title = EFM_Indonesia.5.t
	desc = EFM_Indonesia.5.d
	
	picture = GFX_report_event_generic_sign_treaty2
	
	is_triggered_only = yes

	option = {
			trigger = {
				JAP = {
					has_government = fascism
					NOT = { has_war_with = ROOT }
				}
			}
			ai_chance = { factor = 50 }
			name = EFM_Indonesia.5.a
			JAP = { country_event = { id = EFM_Indonesia.6 days = 1 } }
		}
	option = {
			trigger = {
				AST = {
					has_government = fascism
					NOT = { has_war_with = ROOT }
				}
			}
			ai_chance = { factor = 50 }
			name = EFM_Indonesia.5.b
			AST = { country_event = { id = EFM_Indonesia.6 days = 1 } }
		}
			
}
country_event = {
	id = EFM_Indonesia.6
	title = EFM_Indonesia.6.t
	desc = EFM_Indonesia.6.d
	
	picture = GFX_report_event_generic_conference
	
	is_triggered_only = yes

	option = {
			ai_chance = { factor = 90 }
			name = EFM_Indonesia.6.a
			puppet = FROM
			FROM = { country_event = { id = EFM_independent.50 days = 1 } }
		}
	option = {
			ai_chance = { factor = 10 }
			name = EFM_Indonesia.6.b
			FROM = { country_event = { id = EFM_independent.51 days = 1 } }
		}
			
}

# INS Independence war
country_event = {
	id = EFM_Indonesia.7
	title = EFM_Indonesia.7.t
	desc = EFM_Indonesia.7.d
	
	picture = GFX_report_event_generic_battle
	
	is_triggered_only = yes

	option = {
			ai_chance = { factor = 90 }
			name = EFM_Indonesia.7.a
			add_manpower = -100000
			every_other_country = {
					limit = {
							original_tag = INS
							NOT = { tag = INS }
						}
					country_event = { id = EFM_Indonesia.8 days = 5 }
				}
		}
	option = {
			ai_chance = { factor = 10 }
			name = EFM_Indonesia.7.b
		}
			
}
# HOL Crack down on rebels
country_event = {
	id = EFM_Indonesia.8
	title = EFM_Indonesia.8.t
	desc = EFM_Indonesia.8.d
	
	picture = GFX_report_event_generic_battle
	
	is_triggered_only = yes

	option = {
			name = EFM_Indonesia.8.a
			hidden_effect = {
				add_equipment_to_stockpile = {
						type = convoy_1
						amount = 50
						producer = HOL
					}
				division_template = {
					name = "Crackdown troops"
					priority = 1
					regiments = {
						infantry = { x = 0 y = 0 }
						infantry = { x = 0 y = 1 }
						infantry = { x = 0 y = 2 }
						infantry = { x = 0 y = 3 }
						infantry = { x = 1 y = 0 }
						infantry = { x = 1 y = 1 }
						infantry = { x = 1 y = 2 }
						artillery_brigade = { x = 2 y = 1 }
						artillery_brigade = { x = 2 y = 2 }
					}
				}
				random_owned_controlled_state = {
					create_unit = {
						division = "name = \"1. Crackdown troops\" division_template = \"Crackdown troops\" start_experience_factor = 0.5" 
						owner = ROOT
					}
				}
				random_owned_controlled_state = {
					create_unit = {
						division = "name = \"2. Crackdown troops\" division_template = \"Crackdown troops\" start_experience_factor = 0.5" 
						owner = ROOT
					}
				}
				random_owned_controlled_state = {
					create_unit = {
						division = "name = \"3. Crackdown troops\" division_template = \"Crackdown troops\" start_experience_factor = 0.5" 
						owner = ROOT
					}
				}
				random_owned_controlled_state = {
					create_unit = {
						division = "name = \"4. Crackdown troops\" division_template = \"Crackdown troops\" start_experience_factor = 0.5" 
						owner = ROOT
					}
				}
				random_owned_controlled_state = {
					create_unit = {
						division = "name = \"5. Crackdown troops\" division_template = \"Crackdown troops\" start_experience_factor = 0.5" 
						owner = ROOT
					}
				}
				random_owned_controlled_state = {
					create_unit = {
						division = "name = \"6. Crackdown troops\" division_template = \"Crackdown troops\" start_experience_factor = 0.5" 
						owner = ROOT
					}
				}
				random_owned_controlled_state = {
					create_unit = {
						division = "name = \"7. Crackdown troops\" division_template = \"Crackdown troops\" start_experience_factor = 0.5" 
						owner = ROOT
					}
				}
			}
		}
			
}