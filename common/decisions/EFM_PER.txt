
foreign_politics = {

	PER_Proclaim_a_neutral = {

		icon = generic_political_actions

		available = {
			threat > 0.3
			has_war = no
		}

		cost = 0
		fire_only_once = yes
		ai_will_do = {
			base = 0
			modifier = {
					add = 500
					OR = {
						ENG = {
							has_war_with = GER
						}
						threat > 0.75
					}
					has_war = no
				}
		}

		visible = {
			tag = PER
			is_subject = no
			has_government = neutrality
			has_war = no
		}
		remove_effect = {
		}
		complete_effect = {
			add_ideas = neutrality_idea
			add_political_power = 200
			GER = { country_event = { id = EFM_Persia.8 days = 1 } }
			ENG = { country_event = { id = EFM_Persia.8 days = 1 } }
		}
	}
	PER_Attack_the_indian_border = {

		icon = generic_operation

		available = {
			has_government = fascism
			NOT = {
					owns_state = 444
					owns_state = 445
				}
		}

		cost = 50
		fire_only_once = yes
		days_remove = 35
		ai_will_do = {
			factor = 500
		}

		visible = {
			tag = AFG
			is_subject = no
			PER = { has_completed_focus = PER_Supporting_afghanistan_unify_pashtuns }
			any_other_country = {
					OR = {
						controls_state = 444
						controls_state = 445
					}
					NOT = {
						is_in_faction_with = ROOT
						has_war_with = ROOT
					}
				}
		}
		remove_effect = {
			every_other_country = {
					limit = {
						OR = {
							controls_state = 444
							controls_state = 445
						}
					}
					ROOT = {
						declare_war_on = {
							target = PREV
							type = annex_everything
						}
					}
				}
		}
		complete_effect = {
		}
	}
	PER_Purchase_fighter_from_a_country = {

		icon = generic_air

		available = {
		}

		cost = 50
		ai_will_do = {
			factor = 500
		}

		visible = {
			tag = PER
			has_completed_focus = PER_Purchase_fighter
			is_subject = no
			NOT = {
				has_country_flag = PER_Purchase_fighter_from_a_country
			}
		}
		target_trigger = {
			FROM = {
				OR = {
					tag = GER
					tag = USA
					tag = FRA
					tag = ITA
				}
				OR = {
					is_subject = no
					is_subject_of = ROOT
				}
				NOT = { has_war_with = ROOT }
			}
		}
		remove_effect = {
		}
		complete_effect = {
			FROM = { country_event = { id = EFM_Persia.9 } }
			set_country_flag = PER_Purchase_fighter_from_a_country
		}
	}
	
}

PER_White_revolution = {

	PER_Complete_the_white_revolution = {

		icon = generic_nationalism

		available = {
			NOT = {
				has_idea = PER_Priest_class
				has_idea = PER_Priest_class_dem
				has_idea = PER_landlords
			}
			custom_trigger_tooltip = {
				tooltip = PER_Complete_the_white_revolution_tt
				has_country_flag = PER_Gender_equality
				has_country_flag = PER_Established_the_literacy_corps
				has_country_flag = PER_Established_the_Reconstruction_and_development_corps
				has_country_flag = PER_Nationalization_of_resources
				has_country_flag = PER_Reform_the_enterprise_system
				has_country_flag = PER_Social_welfare_policy
				has_country_flag = PER_Houses_of_equity
			}
		}

		cost = 0
		ai_will_do = {
			factor = 500
		}

		visible = {
			tag = PER
		}
		complete_effect = {
			swap_ideas = {
					remove_idea = PER_National_modernization
					add_idea = PER_Secular_country
				}
			set_country_flag = PER_Complete_the_white_revolution
		}
	}
	PER_Separation_policy_of_church_and_state = {

		icon = generic_political_actions

		available = {
		}

		cost = 100
		fire_only_once = yes
		days_remove = 365
		ai_will_do = {
			base = 1
			modifier = {
					add = 100
					has_stability > 0.5
				}
		}

		visible = {
			tag = PER
			has_country_flag = PER_The_beginning_of_white_revolution
			is_subject = no
			has_idea = PER_Priest_class
		}
		modifier = {
			stability_weekly = -0.01
			political_power_cost = 0.5
		}
		remove_effect = {
			swap_ideas = {
					remove_idea = PER_Priest_class
					add_idea = PER_Priest_class_white
				}
		}
	}
	PER_Separation_policy_of_church_and_state_dem = {

		icon = generic_political_actions

		available = {
		}

		cost = 100
		fire_only_once = yes
		days_remove = 210
		ai_will_do = {
			base = 1
			modifier = {
					add = 100
					has_stability > 0.5
				}
		}

		visible = {
			tag = PER
			has_country_flag = PER_The_beginning_of_white_revolution
			is_subject = no
			has_idea = PER_Priest_class_dem
		}
		modifier = {
			stability_weekly = -0.01
			political_power_cost = 0.25
		}
		remove_effect = {
			swap_ideas = {
					remove_idea = PER_Priest_class_dem
					add_idea = PER_Priest_class_white
				}
		}
	}
	PER_Land_reforms_program = {

		icon = generic_political_actions

		available = {
		}

		cost = 100
		fire_only_once = yes
		days_remove = 365
		ai_will_do = {
			base = 1
			modifier = {
					add = 100
					has_stability > 0.5
				}
		}

		visible = {
			tag = PER
			has_country_flag = PER_The_beginning_of_white_revolution
			is_subject = no
			has_idea = PER_landlords
		}
		modifier = {
			stability_weekly = -0.02
			political_power_cost = 0.25
		}
		remove_effect = {
			remove_ideas = PER_landlords
		}
	}
	PER_Gender_equality = {

		icon = generic_political_actions

		available = {
		}

		cost = 100
		fire_only_once = yes
		days_remove = 70
		ai_will_do = {
			base = 1
			modifier = {
					add = 300
					has_stability > 0.5
				}
		}

		visible = {
			tag = PER
			has_country_flag = PER_The_beginning_of_white_revolution
			is_subject = no
		}
		modifier = {
			political_power_cost = 0.25
		}
		remove_effect = {
			if = {
				limit = {
					has_idea = PER_Priest_class
				}
				add_stability = -0.4
			}
			if = {
				limit = {
					has_idea = PER_Priest_class_dem
				}
				add_stability = -0.15
			}
			if = {
				limit = {
					NOT = {
						has_idea = PER_Priest_class
						has_idea = PER_Priest_class_dem
					}
				}
				add_stability = -0.05
			}
			set_country_flag = PER_Gender_equality
		}
	}
	PER_Established_the_literacy_corps = {

		icon = generic_political_actions

		available = {
		}

		cost = 100
		fire_only_once = yes
		days_remove = 70
		ai_will_do = {
			base = 1
			modifier = {
					add = 500
					has_stability < 0.3
				}
		}

		visible = {
			tag = PER
			has_country_flag = PER_The_beginning_of_white_revolution
			is_subject = no
		}
		modifier = {
			stability_weekly = 0.01
		}
		remove_effect = {
			add_political_power = 150
			add_ideas = PER_Improve_literacy_rate
			set_country_flag = PER_Established_the_literacy_corps
		}
	}
	PER_Established_the_Reconstruction_and_development_corps = {

		icon = generic_political_actions

		available = {
		}

		cost = 50
		fire_only_once = yes
		days_remove = 180
		ai_will_do = {
			base = 10
			modifier = {
					add = 500
					has_stability < 0.4
				}
		}

		visible = {
			tag = PER
			has_country_flag = PER_The_beginning_of_white_revolution
			is_subject = no
		}
		modifier = {
			stability_weekly = 0.01
			political_power_cost = 0.1
		}
		remove_effect = {
			add_ideas = PER_Urban_and_rural_modernization
			set_country_flag = PER_Established_the_Reconstruction_and_development_corps
		}
	}
	PER_Nationalization_of_resources = {

		icon = generic_political_actions

		available = {
		}

		cost = 75
		fire_only_once = yes
		days_remove = 140
		ai_will_do = {
			factor = 10
		}

		visible = {
			tag = PER
			has_country_flag = PER_The_beginning_of_white_revolution
			is_subject = no
		}
		modifier = {
			political_power_cost = 0.25
		}
		remove_effect = {
			add_stability = 0.1
			random_owned_controlled_state = {
					add_extra_state_shared_building_slots = 1
					add_building_construction = {
							type = industrial_complex
							level = 1
							instant_build = yes
						}
				}
			random_owned_controlled_state = {
					add_extra_state_shared_building_slots = 1
					add_building_construction = {
							type = infrastructure
							level = 2
							instant_build = yes
						}
				}
			random_owned_controlled_state = {
					add_extra_state_shared_building_slots = 1
					add_building_construction = {
							type = infrastructure
							level = 1
							instant_build = yes
						}
				}
			random_owned_controlled_state = {
					add_extra_state_shared_building_slots = 1
					add_building_construction = {
							type = infrastructure
							level = 1
							instant_build = yes
						}
				}
			set_country_flag = PER_Nationalization_of_resources
		}
	}
	PER_Reform_the_enterprise_system = {

		icon = generic_political_actions

		available = {
		}

		cost = 25
		fire_only_once = yes
		days_remove = 210
		ai_will_do = {
			factor = 10
		}

		visible = {
			tag = PER
			has_country_flag = PER_The_beginning_of_white_revolution
			is_subject = no
		}
		modifier = {
			stability_weekly = 0.01
			political_power_cost = 0.1
		}
		remove_effect = {
			add_political_power = -75
			add_ideas = PER_Western_style_enterprise_system
			set_country_flag = PER_Reform_the_enterprise_system
		}
	}
	PER_Social_welfare_policy = {

		icon = generic_political_actions

		available = {
		}

		cost = 10
		fire_only_once = yes
		days_remove = 70
		ai_will_do = {
			factor = 10
		}

		visible = {
			tag = PER
			has_country_flag = PER_The_beginning_of_white_revolution
			is_subject = no
		}
		modifier = {
		}
		remove_effect = {
			add_ideas = PER_Social_welfare_policy
			add_political_power = 100
			add_stability = 0.1
			set_country_flag = PER_Social_welfare_policy
		}
	}
	PER_Houses_of_equity = {

		icon = generic_political_actions

		available = {
		}

		cost = 25
		fire_only_once = yes
		ai_will_do = {
			factor = 1
			modifier = {
					add = 500
					has_stability < 0.4
				}
		}

		visible = {
			tag = PER
			has_country_flag = PER_The_beginning_of_white_revolution
			is_subject = no
		}
		modifier = {
		}
		remove_effect = {
			add_stability = 0.05
			set_country_flag = PER_Houses_of_equity
		}
	}

}

political_actions = {

	PER_Recruiting_rural_labor = {

		icon = generic_prepare_civil_war

		available = {
			has_civil_war = no
		}

		cost = 10
		days_remove = 70
		days_re_enable = 30
		ai_will_do = {
			base = 10
		}

		visible = {
			tag = PER
			has_completed_focus = PER_Into_the_countryside
		}
		modifier = {
			political_power_cost = 0.1
			monthly_population = 0.75
		}
	}

	PER_Train_the_guards = {

		icon = generic_prepare_civil_war

		available = {
			has_army_manpower = {
				size > 7999
			}
		}

		cost = 50
		days_remove = 60
		days_re_enable = 30
		ai_will_do = {
			base = 10
		}

		visible = {
			tag = PER
			has_completed_focus = PER_Imperial_force
			NOT = {
				has_government = communism
				has_government = democratic
			}
		}
		remove_effect = {
			add_manpower = -8000
			random_owned_controlled_state = {
					prioritize = { 266 }
					create_unit = {
							division = "name = \"Guards\" division_template = \"Guards\" start_experience_factor = 1.0 start_equipment_factor = 0.01"
							owner = PER
						}
				}
		}
	}
	PER_Train_the_militia = {

		icon = generic_prepare_civil_war

		available = {
			has_army_manpower = {
				size > 2999
			}
		}

		cost = 50
		days_remove = 14
		days_re_enable = 10
		ai_will_do = {
			base = 10
		}

		visible = {
			tag = PER
			has_completed_focus = PER_Revolutionary_army
			NOT = {
				has_government = communism
				has_government = democratic
			}
		}
		remove_effect = {
			add_manpower = -3000
			random_owned_controlled_state = {
					prioritize = { 266 }
					create_unit = {
							division = "name = \"Guards\" division_template = \"Guards\" start_experience_factor = 0 start_equipment_factor = 0.01"
							owner = PER
						}
				}
		}
	}
	PER_Train_the_republican_guards = {

		icon = generic_prepare_civil_war

		available = {
			has_army_manpower = {
				size > 9999
			}
		}

		cost = 50
		days_remove = 45
		days_re_enable = 30
		ai_will_do = {
			base = 10
		}

		visible = {
			tag = PER
			has_completed_focus = PER_Republican_army
			NOT = {
				has_government = communism
				has_government = democratic
			}
		}
		remove_effect = {
			add_manpower = -10000
			random_owned_controlled_state = {
					prioritize = { 266 }
					create_unit = {
							division = "name = \"Guards\" division_template = \"Guards\" start_experience_factor = 0.5 start_equipment_factor = 0.01"
							owner = PER
						}
				}
		}
	}

	PER_Reform_the_tribe = {

		icon = generic_political_actions

		available = {
			has_stability > 0.75
			has_idea = PER_Iranian_tribe
		}

		cost = 100
		days_remove = 70
		fire_only_once = yes
		ai_will_do = {
			factor = 500
		}

		visible = {
			tag = PER
			has_country_flag = PER_Complete_the_white_revolution
			is_subject = no
		}
		modifier = {
		}
		remove_effect = {
			remove_ideas = PER_Iranian_tribe
		}
	}

}